import{r as x,j as e,H as B,U as O,B as H,S as E,L as V,a as q,X as K,M as W,C as Y,D as X,b as Z,c as G,d as J,e as Q,P as _,f as U,g as ee,h as re,i as ae,k as se,K as te,I as le,l as ie,m as oe,n as ne,o as ce,u as de,F as me,p as L,q as xe,s as b}from"./vendor-react-CzGZ0ZUq.js";import{A as M,m as ue,z as j,s as he}from"./vendor-deps-BhKvdKuR.js";import{g as ge,u as pe}from"./services-BNWgcIc8.js";import{u as ye,a as be,b as fe}from"./contexts-DId13bRt.js";function Ce({title:s}){return x.useEffect(()=>{const a="Pizza Daniel's";return document.title=s?`${s} | ${a}`:a,()=>{document.title=a}},[s]),null}const A=({message:s})=>e.jsx(ue.p,{className:"text-sm text-red-500 font-medium",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:s}),w=x.forwardRef(({label:s,error:a,multiline:r=!1,className:l="",...n},i)=>{const o=!!a;return e.jsxs("div",{className:`flex flex-col w-full gap-1 ${l}`,children:[s&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("label",{htmlFor:n.id||n.name,className:"font-medium text-gray-700 dark:text-gray-300",children:s}),e.jsx(M,{mode:"wait",initial:!1,children:o&&e.jsx(A,{message:a},a)})]}),!s&&o&&e.jsx(M,{mode:"wait",initial:!1,children:e.jsx(A,{message:a},a)}),r?e.jsx("textarea",{className:`w-full p-3 border rounded-md ${o?"border-red-500":"border-gray-300 dark:border-gray-600"} focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white`,rows:4,ref:i,...n}):e.jsx("input",{className:`w-full p-3 border rounded-md ${o?"border-red-500":"border-gray-300 dark:border-gray-600"} focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white`,ref:i,...n})]})}),I=({children:s,type:a="button",className:r="",variant:l="primary",size:n="md",isLoading:i=!1,disabled:o=!1,fullWidth:c=!1,onClick:d,...u})=>{const m="flex items-center justify-center rounded-md font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 cursor-pointer w-auto",h={primary:"bg-primary-500 hover:bg-primary-600 text-white focus:ring-primary-500 shadow-sm",secondary:"bg-secondary-500 hover:bg-secondary-600 text-white focus:ring-secondary-500 shadow-sm",outline:"border border-gray-300 hover:bg-gray-50 text-gray-700 focus:ring-primary-500 active:bg-gray-100",accent:"bg-accent-500 hover:bg-accent-600 text-white focus:ring-accent-500 shadow-sm",danger:"bg-red-600 hover:bg-red-700 text-white focus:ring-red-500 shadow-sm"},y={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"},g=c?"w-full":"",p=o||i?"opacity-50 cursor-not-allowed pointer-events-none":"pointer-events-auto",f=P=>{!o&&!i&&d&&d(P)};return e.jsx("button",{type:a,className:`${m} ${h[l]} ${y[n]} ${g} ${p} ${r}`,disabled:o||i,onClick:f,...u,children:i?e.jsxs("div",{className:"flex items-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Cargando..."]}):s})},R=({children:s,title:a,subtitle:r,className:l=""})=>e.jsxs("div",{className:`bg-white dark:bg-gray-800 shadow-md rounded-lg overflow-hidden ${l}`,children:[(a||r)&&e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:[a&&e.jsx("h3",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100",children:a}),r&&e.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-300",children:r})]}),e.jsx("div",{className:"p-6",children:s})]}),t={home:B,menu:W,search:Z,bell:G,user:U,login:q,logout:V,close:K,register:J,userSettings:ae,email:ee,password:se,key:te,restaurant:O,coffee:oe,pizza:ne,sandwich:ce,dessert:ie,cart:E,payment:Y,price:X,bookmark:H,add:_,remove:Q,info:le,call:re},je=j.object({nombre:j.string().min(3,"El nombre debe tener al menos 3 caracteres"),email:j.string().email("Ingresa un correo electrónico válido"),password:j.string().min(8,"La contraseña debe tener al menos 8 caracteres").regex(/[A-Z]/,"La contraseña debe tener al menos una letra mayúscula").regex(/[0-9]/,"La contraseña debe tener al menos un número"),confirmPassword:j.string(),telefono:j.string().optional(),rol:j.enum(["cliente","administrador","empleado"]).default("cliente")}).refine(s=>s.password===s.confirmPassword,{message:"Las contraseñas no coinciden",path:["confirmPassword"]}),Ie=({onSubmit:s,isLoading:a=!1})=>{var n,i,o,c,d;const r=de({resolver:he(je),defaultValues:{nombre:"",email:"",password:"",confirmPassword:"",telefono:"",rol:"cliente"}}),l=r.handleSubmit(u=>{s(u)});return e.jsxs(R,{title:"Registro de Usuario",subtitle:"Complete el formulario para crear una cuenta nueva",className:"max-w-md w-full mx-auto",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx("div",{className:"h-20 w-20 rounded-full bg-blue-100 dark:bg-blue-900 flex items-center justify-center",children:e.jsx(t.register,{className:"h-10 w-10 text-blue-600 dark:text-blue-400"})})}),e.jsx(me,{...r,children:e.jsxs("form",{onSubmit:l,className:"space-y-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx(w,{label:"Nombre completo",type:"text",placeholder:"Ingresa tu nombre completo",...r.register("nombre"),error:(n=r.formState.errors.nombre)==null?void 0:n.message,className:"pl-10"}),e.jsx("div",{className:"absolute left-3 top-10",children:e.jsx(t.user,{className:"h-5 w-5 text-gray-400"})})]}),e.jsxs("div",{className:"relative",children:[e.jsx(w,{label:"Correo electrónico",type:"email",placeholder:"ejemplo@correo.com",...r.register("email"),error:(i=r.formState.errors.email)==null?void 0:i.message,className:"pl-10"}),e.jsx("div",{className:"absolute left-3 top-10",children:e.jsx(t.email,{className:"h-5 w-5 text-gray-400"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(w,{label:"Teléfono (opcional)",type:"tel",placeholder:"000-000-0000",...r.register("telefono"),error:(o=r.formState.errors.telefono)==null?void 0:o.message,className:"pl-10"}),e.jsx("div",{className:"absolute left-3 top-10",children:e.jsx(t.call,{className:"h-5 w-5 text-gray-400"})})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsxs("label",{className:"font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:[e.jsx(t.userSettings,{className:"h-5 w-5 text-gray-400"}),"Tipo de usuario"]}),e.jsxs("select",{...r.register("rol"),className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",children:[e.jsx("option",{value:"cliente",children:"Cliente"}),e.jsx("option",{value:"empleado",children:"Empleado"}),e.jsx("option",{value:"administrador",children:"Administrador"})]})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(w,{label:"Contraseña",type:"password",placeholder:"********",...r.register("password"),error:(c=r.formState.errors.password)==null?void 0:c.message,className:"pl-10"}),e.jsx("div",{className:"absolute left-3 top-10",children:e.jsx(t.password,{className:"h-5 w-5 text-gray-400"})})]}),e.jsxs("div",{className:"relative",children:[e.jsx(w,{label:"Confirmar contraseña",type:"password",placeholder:"********",...r.register("confirmPassword"),error:(d=r.formState.errors.confirmPassword)==null?void 0:d.message,className:"pl-10"}),e.jsx("div",{className:"absolute left-3 top-10",children:e.jsx(t.key,{className:"h-5 w-5 text-gray-400"})})]}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-md border border-blue-200 dark:border-blue-800",children:[e.jsxs("h4",{className:"text-sm font-medium text-blue-800 dark:text-blue-300 flex items-center gap-1",children:[e.jsx(t.info,{className:"h-5 w-5"})," Requisitos de contraseña:"]}),e.jsxs("ul",{className:"text-xs text-blue-600 dark:text-blue-400 mt-2 ml-6 list-disc",children:[e.jsx("li",{children:"Mínimo 8 caracteres"}),e.jsx("li",{children:"Al menos una letra mayúscula"}),e.jsx("li",{children:"Al menos un número"})]})]}),e.jsxs("div",{className:"pt-2",children:[e.jsxs(I,{type:"submit",fullWidth:!0,isLoading:a,children:[!a&&e.jsx(t.register,{className:"h-5 w-5 mr-2"}),"Crear cuenta"]}),e.jsxs("p",{className:"mt-4 text-center text-sm text-gray-600 dark:text-gray-300",children:["¿Ya tienes una cuenta?"," ",e.jsxs("a",{href:"/login",className:"font-medium text-blue-600 hover:text-blue-500 dark:text-blue-400 dark:hover:text-blue-300 inline-flex items-center",children:[e.jsx(t.login,{className:"h-4 w-4 mr-1"}),"Inicia sesión"]})]})]})]})})]})};function Pe({id:s,nombre:a,descripcion:r,precio:l,imagen_url:n,disponible:i,categoria:o,onAddToCart:c}){const[d,u]=x.useState("https://via.placeholder.com/300x200?text=Cargando..."),[m,h]=x.useState(!1);x.useEffect(()=>{try{u(ge(n))}catch(f){console.error("Error al procesar la URL de la imagen:",f),h(!0)}},[n]);const y=()=>{c&&i&&c(s)},g=()=>{m||(h(!0),u(`https://via.placeholder.com/300x200?text=${encodeURIComponent(a)}`))},p=f=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(f);return e.jsxs(R,{className:"overflow-hidden flex flex-col h-full border border-primary-100 shadow-card hover:shadow-lg transition-shadow duration-300 rounded-xl dark:border-primary-700 dark:bg-gray-800",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:d,alt:a,className:"w-full h-48 object-cover rounded-t-xl",onError:g}),e.jsx("div",{className:"absolute top-2 right-2 bg-primary-500 text-white text-xs font-bold px-3 py-1 rounded-full shadow-sm",children:o}),!i&&e.jsx("div",{className:"absolute inset-0 bg-gray-800 bg-opacity-70 flex items-center justify-center rounded-t-xl",children:e.jsx("span",{className:"text-white font-bold text-lg",children:"No Disponible"})})]}),e.jsxs("div",{className:"p-4 flex-grow flex flex-col",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-1 line-clamp-1",children:a}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm mb-4 line-clamp-2 flex-grow",children:r}),e.jsxs("div",{className:"flex items-center justify-between mt-auto",children:[e.jsx("span",{className:"text-lg font-bold text-primary-600 dark:text-primary-400",children:p(l)}),e.jsxs(I,{variant:"primary",size:"sm",onClick:y,disabled:!i,className:i?"":"opacity-50 cursor-not-allowed",children:[e.jsx(t.cart,{className:"h-4 w-4 mr-1"}),"Agregar"]})]})]})]})}function Se({id:s,nombre:a,precio:r,cantidad:l,imagen_url:n,onRemove:i,onUpdateQuantity:o}){const c=h=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(h),d=r*l,u=()=>{o(s,l+1)},m=()=>{l>1?o(s,l-1):i(s)};return e.jsxs("div",{className:"flex items-center py-4 border-b border-gray-200 dark:border-gray-700",children:[e.jsx("div",{className:"h-20 w-20 flex-shrink-0",children:e.jsx("img",{src:n,alt:a,className:"h-full w-full object-cover rounded-md"})}),e.jsxs("div",{className:"ml-4 flex-1",children:[e.jsx("h3",{className:"text-base font-medium text-gray-900 dark:text-gray-100",children:a}),e.jsxs("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:[c(r)," c/u"]})]}),e.jsx("div",{className:"flex items-center",children:e.jsxs("div",{className:"flex border border-gray-300 dark:border-gray-600 rounded-md",children:[e.jsx("button",{type:"button",className:"p-1 text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-200",onClick:m,children:e.jsx(t.remove,{className:"h-4 w-4"})}),e.jsx("span",{className:"w-8 text-center py-1 dark:text-gray-300",children:l}),e.jsx("button",{type:"button",className:"p-1 text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-200",onClick:u,children:e.jsx(t.add,{className:"h-4 w-4"})})]})}),e.jsxs("div",{className:"ml-4 text-right",children:[e.jsx("p",{className:"text-base font-medium text-gray-900 dark:text-gray-100",children:c(d)}),e.jsx("button",{type:"button",className:"mt-1 text-sm text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",onClick:()=>i(s),children:"Eliminar"})]})]})}function F({className:s=""}){const{isDarkMode:a,toggleTheme:r}=ye();return e.jsx("button",{onClick:r,className:`p-2 rounded-full text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-primary-500 transition-colors duration-200 ${s}`,"aria-label":a?"Cambiar a modo claro":"Cambiar a modo oscuro",children:a?e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z",clipRule:"evenodd"})}):e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"})})})}function ze(){const[s,a]=x.useState(!1),[r,l]=x.useState(!1),n=L(),i=xe(),{isAuthenticated:o,user:c,logout:d}=be(),{itemsCount:u}=fe();x.useEffect(()=>{const g=()=>{l(window.scrollY>10)};return window.addEventListener("scroll",g),()=>{window.removeEventListener("scroll",g)}},[]),x.useEffect(()=>(s?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[s]);const m=g=>n.pathname===g,h=()=>{d()},y=()=>{i("/login")};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"h-16"}),e.jsxs("nav",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${r?"bg-white/95 dark:bg-gray-800/95 backdrop-blur-sm shadow-lg border-b border-gray-200 dark:border-gray-700 py-1":"bg-white dark:bg-gray-800"}`,children:[e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between h-16",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx("div",{className:"flex-shrink-0 flex items-center",children:e.jsxs(b,{to:"/",className:`flex items-center text-2xl font-display font-bold text-primary-600 dark:text-primary-400 transition-all duration-300 ${r?"scale-95":""}`,children:[e.jsx("span",{className:"text-primary-600 dark:text-primary-400 mr-1",children:"🍔"}),e.jsx("span",{children:"Pizza Daniel's"})]})}),e.jsxs("div",{className:"hidden sm:flex sm:items-center sm:gap-6",children:[e.jsxs(b,{to:"/",className:`${m("/")?"border-primary-500 text-primary-700 dark:text-primary-400":"border-transparent text-gray-500 dark:text-gray-300 hover:border-primary-300 hover:text-primary-600 dark:hover:text-primary-400"} 
                  inline-flex items-center justify-center px-3 pt-1 border-b-2 text-sm font-medium transition-colors duration-200`,children:[e.jsx(t.home,{className:"h-5 w-5 mr-1.5"}),"Inicio"]}),e.jsxs(b,{to:"/menu",className:`${m("/menu")?"border-primary-500 text-primary-700 dark:text-primary-400":"border-transparent text-gray-500 dark:text-gray-300 hover:border-primary-300 hover:text-primary-600 dark:hover:text-primary-400"} 
                  inline-flex items-center justify-center px-3 pt-1 border-b-2 text-sm font-medium transition-colors duration-200`,children:[e.jsx(t.restaurant,{className:"h-5 w-5 mr-1.5"}),"Menú"]}),e.jsxs(b,{to:"/pedidos",className:`${m("/pedidos")?"border-primary-500 text-primary-700 dark:text-primary-400":"border-transparent text-gray-500 dark:text-gray-300 hover:border-primary-300 hover:text-primary-600 dark:hover:text-primary-400"} 
                  inline-flex items-center justify-center px-3 pt-1 border-b-2 text-sm font-medium transition-colors duration-200`,children:[e.jsx(t.bookmark,{className:"h-5 w-5 mr-1.5"}),"Pedidos"]})]})]}),e.jsxs("div",{className:"hidden sm:ml-8 sm:flex sm:items-center sm:gap-6",children:[e.jsx(F,{className:"p-2.5"}),e.jsxs(b,{to:"/carrito",className:"p-2 rounded-full text-gray-600 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 relative transition-colors duration-200",children:[e.jsx(t.cart,{className:"h-6 w-6"}),e.jsx("span",{className:"absolute -top-1 -right-1 block h-5 w-5 rounded-full bg-accent-500 text-xs text-white font-bold flex items-center justify-center",children:u})]}),o?e.jsxs("div",{className:"relative flex items-center gap-4 ml-1",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:["Hola, ",c==null?void 0:c.nombre]}),e.jsxs(I,{variant:"outline",size:"sm",onClick:h,className:"border-primary-300 text-primary-600 dark:text-primary-400 dark:border-primary-700 hover:bg-primary-50 dark:hover:bg-primary-900/30 px-4",children:[e.jsx(t.logout,{className:"h-4 w-4 mr-1.5"}),"Salir"]})]}):e.jsx(I,{variant:"outline",size:"sm",className:"border-primary-300 text-primary-600 dark:text-primary-400 dark:border-primary-700 hover:bg-primary-50 dark:hover:bg-primary-900/30 px-4",onClick:y,children:e.jsxs("div",{className:"flex items-center justify-center w-full z-50",children:[e.jsx(t.login,{className:"h-4 w-4 mr-1.5"}),e.jsx("span",{children:"Ingresar"})]})})]}),e.jsxs("div",{className:"-mr-2 flex items-center sm:hidden",children:[e.jsx(F,{}),e.jsxs("button",{onClick:()=>a(!s),className:"inline-flex items-center justify-center p-2 rounded-md text-primary-600 dark:text-primary-400 hover:text-primary-800 dark:hover:text-primary-300 hover:bg-primary-50 dark:hover:bg-primary-900/30 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-primary-500",children:[e.jsx("span",{className:"sr-only",children:"Abrir menú principal"}),s?e.jsx(t.close,{className:"block h-6 w-6"}):e.jsx(t.menu,{className:"block h-6 w-6"})]})]})]})}),e.jsx("div",{className:`${s?"block":"hidden"} sm:hidden bg-white dark:bg-gray-800 shadow-lg`,children:e.jsxs("div",{className:"pt-2 pb-3 flex flex-col gap-1",children:[e.jsxs(b,{to:"/",className:`${m("/")?"bg-primary-50 dark:bg-primary-900/30 border-primary-500 text-primary-700 dark:text-primary-400":"border-transparent text-gray-600 dark:text-gray-300 hover:bg-primary-50 dark:hover:bg-primary-900/30 hover:border-primary-300 hover:text-primary-700 dark:hover:text-primary-400"} 
              flex items-center pl-3 pr-4 py-2 border-l-4 text-base font-medium`,onClick:()=>a(!1),children:[e.jsx(t.home,{className:"h-5 w-5 mr-2"}),"Inicio"]}),e.jsxs(b,{to:"/menu",className:`${m("/menu")?"bg-primary-50 dark:bg-primary-900/30 border-primary-500 text-primary-700 dark:text-primary-400":"border-transparent text-gray-600 dark:text-gray-300 hover:bg-primary-50 dark:hover:bg-primary-900/30 hover:border-primary-300 hover:text-primary-700 dark:hover:text-primary-400"} 
              flex items-center pl-3 pr-4 py-2 border-l-4 text-base font-medium`,onClick:()=>a(!1),children:[e.jsx(t.restaurant,{className:"h-5 w-5 mr-2"}),"Menú"]}),e.jsxs(b,{to:"/pedidos",className:`${m("/pedidos")?"bg-primary-50 dark:bg-primary-900/30 border-primary-500 text-primary-700 dark:text-primary-400":"border-transparent text-gray-600 dark:text-gray-300 hover:bg-primary-50 dark:hover:bg-primary-900/30 hover:border-primary-300 hover:text-primary-700 dark:hover:text-primary-400"} 
              flex items-center pl-3 pr-4 py-2 border-l-4 text-base font-medium`,onClick:()=>a(!1),children:[e.jsx(t.bookmark,{className:"h-5 w-5 mr-2"}),"Pedidos"]}),e.jsxs(b,{to:"/carrito",className:`${m("/carrito")?"bg-primary-50 dark:bg-primary-900/30 border-primary-500 text-primary-700 dark:text-primary-400":"border-transparent text-gray-600 dark:text-gray-300 hover:bg-primary-50 dark:hover:bg-primary-900/30 hover:border-primary-300 hover:text-primary-700 dark:hover:text-primary-400"} 
              flex items-center pl-3 pr-4 py-2 border-l-4 text-base font-medium`,onClick:()=>a(!1),children:[e.jsx(t.cart,{className:"h-5 w-5 mr-2"}),"Carrito"]}),o?e.jsxs("button",{onClick:()=>{h(),a(!1)},className:"w-full text-left flex items-center border-transparent text-gray-600 dark:text-gray-300 hover:bg-primary-50 dark:hover:bg-primary-900/30 hover:border-primary-300 hover:text-primary-700 dark:hover:text-primary-400 pl-3 pr-4 py-2 border-l-4 text-base font-medium",children:[e.jsx(t.logout,{className:"h-5 w-5 mr-2"}),"Cerrar sesión"]}):e.jsxs("button",{onClick:()=>{y(),a(!1)},className:"w-full text-left flex items-center border-transparent text-gray-600 dark:text-gray-300 hover:bg-primary-50 dark:hover:bg-primary-900/30 hover:border-primary-300 hover:text-primary-700 dark:hover:text-primary-400 pl-3 pr-4 py-2 border-l-4 text-base font-medium",children:[e.jsx(t.login,{className:"h-5 w-5 mr-2"}),"Ingresar"]})]})})]})]})}function $e(){const s=L();return x.useEffect(()=>{const a="Pizza Daniel's",l={"/":"Inicio","/menu":"Menú","/carrito":"Carrito de Compras","/login":"Iniciar Sesión","/register":"Crear Cuenta","/pedidos":"Mis Pedidos","/promociones":"Promociones","/locales":"Nuestros Locales"}[s.pathname];document.title=l?`${l} | ${a}`:a},[s]),null}const Me=({folder:s="uploads",onUploadSuccess:a,onUploadError:r,allowedTypes:l=["image/jpeg","image/png","image/gif","image/webp"],maxSizeMB:n=5,className:i="",buttonText:o="Seleccionar imagen",loadingText:c="Subiendo..."})=>{const[d,u]=x.useState(!1),[m,h]=x.useState(0),[y,g]=x.useState(null),p=x.useRef(null),f=async k=>{var z;const N=(z=k.target.files)==null?void 0:z[0];if(!N)return;if(!l.includes(N.type)){r==null||r(`Tipo de archivo no permitido. Tipos permitidos: ${l.join(", ")}`),p.current&&(p.current.value="");return}const D=n*1024*1024;if(N.size>D){r==null||r(`El archivo es demasiado grande. El tamaño máximo permitido es ${n}MB`),p.current&&(p.current.value="");return}const S=new FileReader;S.onload=()=>{g(S.result)},S.readAsDataURL(N),u(!0),h(0);try{const C=setInterval(()=>{h(T=>{const $=T+Math.random()*20;return $>=90?90:$})},500),v=await pe(N,s);clearInterval(C),h(100),v.success&&v.url&&v.key?a==null||a(v.url,v.key):r==null||r(v.error||"Error desconocido al subir la imagen")}catch(C){r==null||r(C instanceof Error?C.message:"Error desconocido")}finally{u(!1)}},P=()=>{var k;(k=p.current)==null||k.click()};return e.jsxs("div",{className:`image-uploader ${i}`,children:[e.jsx("input",{type:"file",ref:p,onChange:f,accept:l.join(","),className:"hidden",disabled:d}),e.jsx("button",{type:"button",onClick:P,disabled:d,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:bg-gray-400",children:d?c:o}),d&&e.jsx("div",{className:"mt-2 w-full bg-gray-200 rounded-full h-2.5",children:e.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:`${m}%`}})}),y&&e.jsx("div",{className:"mt-4",children:e.jsx("img",{src:y,alt:"Vista previa",className:"max-w-xs rounded border border-gray-300"})})]})};export{I as B,R as C,w as I,ze as N,Ce as P,Ie as R,$e as T,t as a,Pe as b,Se as c,Me as d};
